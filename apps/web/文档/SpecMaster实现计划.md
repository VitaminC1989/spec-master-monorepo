# SpecMaster å‰ç«¯å®ç°è®¡åˆ’æ–‡æ¡£

**ç‰ˆæœ¬ï¼š** v1.0  
**æ—¥æœŸï¼š** 2025-11-23  
**é¡¹ç›®åç§°ï¼š** æœè£…é…æ–¹ç®¡ç†ç³»ç»Ÿï¼ˆSpecMasterï¼‰å‰ç«¯å¼€å‘  
**ç¼–åˆ¶ä¾æ®ï¼š**
- äº§å“éœ€æ±‚æ–‡æ¡£ v1.4
- å‰ç«¯æŠ€æœ¯è®¾è®¡æ–‡æ¡£

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [å¼€å‘é˜¶æ®µè§„åˆ’](#2-å¼€å‘é˜¶æ®µè§„åˆ’)
3. [è¯¦ç»†ä»»åŠ¡åˆ†è§£](#3-è¯¦ç»†ä»»åŠ¡åˆ†è§£)
4. [æŠ€æœ¯å®ç°è¦ç‚¹](#4-æŠ€æœ¯å®ç°è¦ç‚¹)
5. [å…³é”®é‡Œç¨‹ç¢‘](#5-å…³é”®é‡Œç¨‹ç¢‘)
6. [é£é™©è¯„ä¼°ä¸åº”å¯¹](#6-é£é™©è¯„ä¼°ä¸åº”å¯¹)
7. [è´¨é‡ä¿è¯è®¡åˆ’](#7-è´¨é‡ä¿è¯è®¡åˆ’)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç›®æ ‡

æ„å»ºä¸€ä¸ªé«˜æ€§èƒ½ã€äº¤äº’å‹å¥½çš„æœè£…é…æ–¹ç®¡ç†ç³»ç»Ÿå‰ç«¯åº”ç”¨ï¼Œæ ¸å¿ƒè§£å†³"ä¸€æ¬¾å¤šè‰²"å·¥è‰ºå•ç®¡ç†ä¸­çš„å››çº§åµŒå¥—æ•°æ®ç»“æ„ï¼ˆL1-L4ï¼‰çš„å±•ç¤ºä¸ç¼–è¾‘é—®é¢˜ã€‚

### 1.2 æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬å»ºè®® | ç”¨é€” |
|------|---------|------|
| React | 18.x | å‰ç«¯æ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹ç³»ç»Ÿ |
| Vite | 5.x | æ„å»ºå·¥å…· |
| Refine | 4.x | ä¼ä¸šçº§æ¡†æ¶ |
| Ant Design | 5.x | UIç»„ä»¶åº“ |
| TailwindCSS | 3.x | æ ·å¼æ–¹æ¡ˆ |

### 1.3 é¡¹ç›®è§„æ¨¡ä¼°ç®—

- **é¢„è®¡å¼€å‘å‘¨æœŸï¼š** 4-6 å‘¨
- **ä»£ç è§„æ¨¡ä¼°ç®—ï¼š** çº¦ 8,000-12,000 è¡Œï¼ˆä¸å«ä¾èµ–ï¼‰
- **æ ¸å¿ƒç»„ä»¶æ•°é‡ï¼š** 15-20 ä¸ª
- **é¡µé¢æ•°é‡ï¼š** 5-8 ä¸ª

---

## 2. å¼€å‘é˜¶æ®µè§„åˆ’

### é˜¶æ®µåˆ’åˆ†æ¦‚è§ˆ

```
Phase 0: é¡¹ç›®åˆå§‹åŒ– (3-5å¤©)
   â†“
Phase 1: åŸºç¡€æ¶æ„æ­å»º (5-7å¤©)
   â†“
Phase 2: æ ¸å¿ƒåŠŸèƒ½å®ç° (10-15å¤©)
   â†“
Phase 3: é«˜çº§åŠŸèƒ½ä¸ä¼˜åŒ– (5-7å¤©)
   â†“
Phase 4: Demoæ¼”ç¤ºå‡†å¤‡ (3-5å¤©)
   â†“
Phase 5: æµ‹è¯•ä¸äº¤ä»˜ (3-5å¤©)
```

---

## 3. è¯¦ç»†ä»»åŠ¡åˆ†è§£

### Phase 0: é¡¹ç›®åˆå§‹åŒ– (3-5å¤©)

#### ä»»åŠ¡ 0.1: å¼€å‘ç¯å¢ƒæ­å»º
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©

**å­ä»»åŠ¡ï¼š**
- [ ] å®‰è£… Node.js (v18+) å’ŒåŒ…ç®¡ç†å™¨ï¼ˆpnpm æ¨èï¼‰
- [ ] åˆå§‹åŒ– Vite + React + TypeScript é¡¹ç›®
  ```bash
  pnpm create vite specmaster-frontend --template react-ts
  ```
- [ ] é…ç½® Git ä»“åº“å’Œ .gitignore
- [ ] é…ç½® ESLint + Prettier ä»£ç è§„èŒƒ

**äº¤ä»˜ç‰©ï¼š**
- âœ… å¯è¿è¡Œçš„ç©ºç™½ React é¡¹ç›®
- âœ… ä»£ç è§„èŒƒé…ç½®æ–‡ä»¶

---

#### ä»»åŠ¡ 0.2: æ ¸å¿ƒä¾èµ–å®‰è£…ä¸é…ç½®
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©

**å­ä»»åŠ¡ï¼š**
- [ ] å®‰è£… Refine æ ¸å¿ƒåŒ…
  ```bash
  pnpm add @refinedev/core @refinedev/react-router-v6 @refinedev/antd
  ```
- [ ] å®‰è£… Ant Design åŠå›¾æ ‡åº“
  ```bash
  pnpm add antd @ant-design/icons
  ```
- [ ] å®‰è£… TailwindCSS å¹¶é…ç½®
  ```bash
  pnpm add -D tailwindcss postcss autoprefixer
  npx tailwindcss init -p
  ```
- [ ] é…ç½® TailwindCSS ä¸ Ant Design çš„æ ·å¼å…¼å®¹
- [ ] å®‰è£…å·¥å…·åº“ï¼ˆaxios, dayjs ç­‰ï¼‰

**äº¤ä»˜ç‰©ï¼š**
- âœ… package.json åŒ…å«æ‰€æœ‰ä¾èµ–
- âœ… tailwind.config.js é…ç½®å®Œæˆ
- âœ… Ant Design ä¸»é¢˜é…ç½®æ–‡ä»¶

---

#### ä»»åŠ¡ 0.3: é¡¹ç›®ç»“æ„è§„åˆ’
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©

**ç›®å½•ç»“æ„è®¾è®¡ï¼š**
```
src/
â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/        # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ common/         # å…¬å…±ç»„ä»¶ï¼ˆLoading, Emptyç­‰ï¼‰
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ styles/         # æ¬¾å·ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ list.tsx   # L1 åˆ—è¡¨é¡µ
â”‚   â”‚   â””â”€â”€ detail.tsx # L1 è¯¦æƒ…é¡µï¼ˆæ ¸å¿ƒï¼‰
â”‚   â””â”€â”€ dashboard/      # ä»ªè¡¨ç›˜
â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ models.ts       # L1-L4 æ•°æ®æ¨¡å‹
â”œâ”€â”€ providers/          # æ•°æ®æä¾›è€…
â”‚   â”œâ”€â”€ mockDataProvider.ts    # Mock æ•°æ®
â”‚   â””â”€â”€ nestJsDataProvider.ts  # çœŸå®åç«¯ï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ mock/               # Mock é™æ€æ•°æ®
â”‚   â””â”€â”€ data.ts
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â””â”€â”€ App.tsx             # åº”ç”¨å…¥å£
```

**å­ä»»åŠ¡ï¼š**
- [ ] åˆ›å»ºç›®å½•ç»“æ„
- [ ] ç¼–å†™ README.md é¡¹ç›®è¯´æ˜æ–‡æ¡£

**äº¤ä»˜ç‰©ï¼š**
- âœ… è§„èŒƒçš„é¡¹ç›®ç›®å½•ç»“æ„
- âœ… README.md å¼€å‘æŒ‡å—

---

### Phase 1: åŸºç¡€æ¶æ„æ­å»º (5-7å¤©)

#### ä»»åŠ¡ 1.1: TypeScript ç±»å‹ç³»ç»Ÿå®šä¹‰
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** æ— 

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/types/models.ts`ï¼Œå®šä¹‰å››çº§æ•°æ®æ¨¡å‹ï¼š

```typescript
// L4: è§„æ ¼æ˜ç»†å±‚ (Spec Detail)
export interface ISpecDetail {
  id?: number;              // æ–°å¢æ—¶å¯èƒ½æ— ID
  size?: string;            // å°ºç ï¼ˆå¦‚: S, M, é€šç ï¼‰
  spec_value: string | number;  // è§„æ ¼å€¼ï¼ˆå¦‚: 58.5ï¼‰
  spec_unit: string;        // è§„æ ¼å•ä½ï¼ˆå¦‚: cmï¼‰
}

// L3: é…æ–™æ˜ç»†å±‚ (BOM Item)
export interface IBOMItem {
  id: number;
  variant_id: number;       // å½’å±çš„L2é¢œè‰²ç‰ˆæœ¬ID
  material_name: string;    // è¾…æ–™åç§°
  material_image_url: string;  // è¾…æ–™å›¾ç‰‡URL
  material_color_text?: string;     // è¾…æ–™é¢œè‰²ï¼ˆæ–‡å­—ï¼‰
  material_color_image_url?: string; // è¾…æ–™é¢œè‰²ï¼ˆè‰²å¡å›¾ï¼‰
  usage: number;            // å•è€—
  unit: string;             // å•è€—å•ä½
  supplier?: string;        // ä¾›åº”å•†
  specDetails: ISpecDetail[];  // å…³è”çš„L4è§„æ ¼æ˜ç»†æ•°ç»„
}

// L2: é¢œè‰²ç‰ˆæœ¬å±‚ (Color Variant)
export interface IColorVariant {
  id: number;
  style_id: number;         // å½’å±çš„L1æ¬¾å·ID
  color_name: string;       // æ¬¾å¼é¢œè‰²ï¼ˆå¦‚: ç°è‰²ï¼‰
  sample_image_url: string; // æ ·è¡£å›¾ç‰‡URL
  size_range?: string;      // å°ºç èŒƒå›´è¯´æ˜
}

// L1: æ¬¾å·å±‚ (Style)
export interface IStyle {
  id: number;
  style_no: string;         // æ¬¾å·ï¼ˆå”¯ä¸€ç´¢å¼•ï¼‰
  style_name?: string;      // æ¬¾å¼åç§°
  create_date: string;      // åˆ›å»ºæ—¥æœŸ
  public_note?: string;     // å…¬å…±å¤‡æ³¨
}
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… `src/types/models.ts` æ–‡ä»¶
- âœ… æ‰€æœ‰æ¥å£åŒ…å«è¯¦ç»†ä¸­æ–‡æ³¨é‡Š

---

#### ä»»åŠ¡ 1.2: Mock æ•°æ®å‡†å¤‡
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 1.1

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/mock/data.ts`ï¼Œæ„é€ å®Œæ•´çš„å››çº§åµŒå¥—æ¨¡æ‹Ÿæ•°æ®ï¼š

```typescript
import { IStyle, IColorVariant, IBOMItem } from '../types/models';

// L1: æ¬¾å·æ•°æ®ï¼ˆè‡³å°‘2æ¡ç”¨äºåˆ—è¡¨æ¼”ç¤ºï¼‰
export const mockStyles: IStyle[] = [
  {
    id: 1,
    style_no: '9128',
    style_name: 'å„¿ç«¥æ‹¼è‰²é©¬ç”²',
    create_date: '2023-11-25',
    public_note: 'æ³¨æ„é¢æ–™è‰²å·®ï¼Œæ‹‰é“¾éœ€é‡‡ç”¨YKKå“ç‰Œ'
  },
  {
    id: 2,
    style_no: '9129',
    style_name: 'æˆäººä¼‘é—²å¤¹å…‹',
    create_date: '2023-11-26',
    public_note: ''
  }
];

// L2: é¢œè‰²ç‰ˆæœ¬æ•°æ®ï¼ˆæ¯ä¸ªæ¬¾å·è‡³å°‘2ä¸ªé¢œè‰²ï¼‰
export const mockVariants: IColorVariant[] = [
  // æ¬¾å·9128çš„é¢œè‰²ç‰ˆæœ¬
  {
    id: 101,
    style_id: 1,
    color_name: 'ç°è‰²',
    sample_image_url: 'https://via.placeholder.com/400x600/808080/FFFFFF?text=Gray+Vest',
    size_range: 'S/M/L/XL'
  },
  {
    id: 102,
    style_id: 1,
    color_name: 'ç²‰è‰²',
    sample_image_url: 'https://via.placeholder.com/400x600/FFC0CB/FFFFFF?text=Pink+Vest',
    size_range: 'S/M/L/XL'
  },
  // æ¬¾å·9129çš„é¢œè‰²ç‰ˆæœ¬
  {
    id: 103,
    style_id: 2,
    color_name: 'é»‘è‰²',
    sample_image_url: 'https://via.placeholder.com/400x600/000000/FFFFFF?text=Black+Jacket',
    size_range: 'M/L/XL/XXL'
  }
];

// L3: é…æ–™æ˜ç»†æ•°æ®ï¼ˆåŒ…å«L4åµŒå¥—æ•°ç»„ï¼‰
export const mockBomItems: IBOMItem[] = [
  // ç°è‰²é©¬ç”²ï¼ˆvariant_id: 101ï¼‰çš„é…æ–™
  {
    id: 1001,
    variant_id: 101,
    material_name: '5å·æ ‘è„‚æ‹‰é“¾',
    material_image_url: 'https://via.placeholder.com/150/4169E1/FFFFFF?text=Zipper',
    material_color_text: 'é“¶ç°è‰²',
    usage: 1,
    unit: 'æ¡',
    supplier: 'YKKæ‹‰é“¾æœ‰é™å…¬å¸',
    specDetails: [  // L4 æ•°æ®
      { id: 1, size: 'S', spec_value: '58.5', spec_unit: 'cm' },
      { id: 2, size: 'M', spec_value: '59.5', spec_unit: 'cm' },
      { id: 3, size: 'L', spec_value: '60.5', spec_unit: 'cm' },
      { id: 4, size: 'XL', spec_value: '61.5', spec_unit: 'cm' }
    ]
  },
  {
    id: 1002,
    variant_id: 101,
    material_name: 'å››åˆæ‰£',
    material_image_url: 'https://via.placeholder.com/150/32CD32/FFFFFF?text=Button',
    material_color_text: 'äº®é“¶',
    usage: 4,
    unit: 'ç²’',
    supplier: 'ä¸‰ä¿¡é‡‘å±åˆ¶å“å‚',
    specDetails: [
      { id: 5, size: 'é€šç ', spec_value: '10', spec_unit: 'mm' }
    ]
  },
  // ç²‰è‰²é©¬ç”²ï¼ˆvariant_id: 102ï¼‰çš„é…æ–™
  {
    id: 2001,
    variant_id: 102,
    material_name: '5å·æ ‘è„‚æ‹‰é“¾',
    material_image_url: 'https://via.placeholder.com/150/FF69B4/FFFFFF?text=Pink+Zipper',
    material_color_text: 'ç«ç‘°é‡‘',
    usage: 1,
    unit: 'æ¡',
    supplier: 'YKKæ‹‰é“¾æœ‰é™å…¬å¸',
    specDetails: [
      { id: 6, size: 'S', spec_value: '58.5', spec_unit: 'cm' },
      { id: 7, size: 'M', spec_value: '59.5', spec_unit: 'cm' },
      { id: 8, size: 'L', spec_value: '60.5', spec_unit: 'cm' },
      { id: 9, size: 'XL', spec_value: '61.5', spec_unit: 'cm' }
    ]
  },
  // ... æ›´å¤šæ•°æ®
];
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… `src/mock/data.ts` åŒ…å«å®Œæ•´å››çº§æ•°æ®
- âœ… è‡³å°‘2ä¸ªæ¬¾å·ã€æ¯ä¸ªæ¬¾å·2ä¸ªé¢œè‰²ã€æ¯ä¸ªé¢œè‰²3æ¡é…æ–™

---

#### ä»»åŠ¡ 1.3: Mock Data Provider å®ç°
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 1.2

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/providers/mockDataProvider.ts`ï¼Œå®ç° Refine æ•°æ®æä¾›è€…æ¥å£ï¼š

**æ ¸å¿ƒåŠŸèƒ½ç‚¹ï¼š**
- âœ… `getList`: æ”¯æŒ filters è¿‡æ»¤ï¼ˆç”¨äºæŒ‰ variant_id ç­›é€‰ BOM åˆ—è¡¨ï¼‰
- âœ… `getOne`: æ ¹æ® ID è·å–å•æ¡è®°å½•
- âœ… `create`: Mock åˆ›å»ºæ“ä½œ
- âœ… `update`: Mock æ›´æ–°æ“ä½œï¼ˆç”¨äºä¿å­˜ L4 ç¼–è¾‘ï¼‰
- âœ… `deleteOne`: Mock åˆ é™¤æ“ä½œ
- âœ… `custom`: Mock è‡ªå®šä¹‰æ“ä½œï¼ˆç”¨äºæ·±åº¦å…‹éš† APIï¼‰

**å…³é”®å®ç°ï¼š**
```typescript
getList: async ({ resource, filters, pagination }) => {
  // æ¨¡æ‹Ÿ300msç½‘ç»œå»¶è¿Ÿ
  await new Promise(r => setTimeout(r, 300));
  
  let data = mockDatabase[resource] || [];
  
  // å®ç°filtersé€»è¾‘ï¼ˆå…³é”®ï¼šç”¨äºvariant_idç­›é€‰ï¼‰
  if (filters) {
    filters.forEach((filter: any) => {
      if (filter.operator === 'eq') {
        data = data.filter((item: any) => 
          item[filter.field] == filter.value
        );
      }
    });
  }
  
  // åˆ†é¡µå¤„ç†
  const { current = 1, pageSize = 10 } = pagination ?? {};
  const start = (current - 1) * pageSize;
  const pageData = data.slice(start, start + pageSize);
  
  return { data: pageData, total: data.length };
}
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… `src/providers/mockDataProvider.ts` å®Œæ•´å®ç°
- âœ… æ”¯æŒæ‰€æœ‰ CRUD æ“ä½œçš„ Mock é€»è¾‘

---

#### ä»»åŠ¡ 1.4: Refine åº”ç”¨åˆå§‹åŒ–
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 1.3

**å®ç°å†…å®¹ï¼š**

é…ç½® `src/App.tsx`ï¼Œåˆå§‹åŒ– Refine æ¡†æ¶ï¼š

```typescript
import { Refine } from "@refinedev/core";
import { RefineKbar, RefineKbarProvider } from "@refinedev/kbar";
import routerBindings from "@refinedev/react-router-v6";
import { BrowserRouter, Routes, Route } from "react-router-dom";
import { ConfigProvider } from "antd";
import zhCN from "antd/locale/zh_CN";

import { mockDataProvider } from "./providers/mockDataProvider";
import { Layout } from "./components/layouts/Layout";

// é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶ Demo æ¨¡å¼
const isDemoMode = import.meta.env.VITE_APP_MODE === 'demo';

function App() {
  return (
    <BrowserRouter>
      <ConfigProvider locale={zhCN}>
        <RefineKbarProvider>
          <Refine
            dataProvider={mockDataProvider}
            routerProvider={routerBindings}
            resources={[
              {
                name: "styles",
                list: "/styles",
                show: "/styles/:id",
                meta: { label: "æ¬¾å·ç®¡ç†" }
              }
            ]}
          >
            {/* è·¯ç”±é…ç½® */}
            <Routes>
              <Route element={<Layout />}>
                <Route path="/styles" element={<div>æ¬¾å·åˆ—è¡¨</div>} />
                <Route path="/styles/:id" element={<div>æ¬¾å·è¯¦æƒ…</div>} />
              </Route>
            </Routes>
            <RefineKbar />
          </Refine>
        </RefineKbarProvider>
      </ConfigProvider>
    </BrowserRouter>
  );
}

export default App;
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… Refine åº”ç”¨å¯æ­£å¸¸å¯åŠ¨
- âœ… è·¯ç”±ç³»ç»Ÿé…ç½®å®Œæˆ
- âœ… ä¸­æ–‡è¯­è¨€åŒ…é…ç½®å®Œæˆ

---

### Phase 2: æ ¸å¿ƒåŠŸèƒ½å®ç° (10-15å¤©)

#### ä»»åŠ¡ 2.1: ä¸»å¸ƒå±€ç»„ä»¶å¼€å‘
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** Phase 1 å®Œæˆ

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/components/layouts/Layout.tsx`ï¼š

```typescript
import { Layout as AntLayout } from "antd";
import { Outlet } from "react-router-dom";

const { Header, Content } = AntLayout;

export const Layout: React.FC = () => {
  return (
    <AntLayout className="min-h-screen">
      <Header className="bg-white shadow-sm">
        <div className="flex items-center justify-between">
          <h1 className="text-xl font-bold">SpecMaster - æœè£…é…æ–¹ç®¡ç†ç³»ç»Ÿ</h1>
          {/* æœªæ¥å¯æ·»åŠ ç”¨æˆ·èœå•ã€è®¾ç½®ç­‰ */}
        </div>
      </Header>
      <Content className="p-6 bg-gray-50">
        <Outlet />
      </Content>
    </AntLayout>
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… å“åº”å¼ä¸»å¸ƒå±€ç»„ä»¶
- âœ… é›†æˆ Ant Design Layout å’Œ TailwindCSS

---

#### ä»»åŠ¡ 2.2: L1 æ¬¾å·åˆ—è¡¨é¡µå¼€å‘
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 2.1

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/pages/styles/list.tsx`ï¼š

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- âœ… ä½¿ç”¨ Refine çš„ `useTable` Hook
- âœ… ä½¿ç”¨ Ant Design Pro Components çš„ `ProTable`
- âœ… å±•ç¤ºåˆ—ï¼šæ¬¾å·ã€æ¬¾å¼åç§°ã€åˆ›å»ºæ—¥æœŸã€æ“ä½œ
- âœ… æ”¯æŒæœç´¢ã€åˆ†é¡µ
- âœ… è¡Œæ“ä½œï¼šæŸ¥çœ‹è¯¦æƒ…ã€åˆ é™¤

**å…³é”®ä»£ç ç¤ºä¾‹ï¼š**
```typescript
import { useTable } from "@refinedev/antd";
import { ProTable } from "@ant-design/pro-components";
import { IStyle } from "../../types/models";

export const StyleList: React.FC = () => {
  const { tableProps } = useTable<IStyle>({
    resource: "styles",
  });

  return (
    <ProTable<IStyle>
      {...tableProps}
      search={false}
      columns={[
        { title: 'æ¬¾å·', dataIndex: 'style_no', key: 'style_no' },
        { title: 'æ¬¾å¼åç§°', dataIndex: 'style_name', key: 'style_name' },
        { title: 'åˆ›å»ºæ—¥æœŸ', dataIndex: 'create_date', key: 'create_date' },
        {
          title: 'æ“ä½œ',
          key: 'action',
          render: (_, record) => (
            <Space>
              <Button type="link" href={`/styles/${record.id}`}>æŸ¥çœ‹</Button>
            </Space>
          )
        }
      ]}
    />
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… åŠŸèƒ½å®Œæ•´çš„æ¬¾å·åˆ—è¡¨é¡µ
- âœ… æ•°æ®èƒ½ä» Mock Provider æ­£ç¡®åŠ è½½

---

#### ä»»åŠ¡ 2.3: L1 æ¬¾å·è¯¦æƒ…é¡µæ¡†æ¶æ­å»ºï¼ˆæ ¸å¿ƒé¡µé¢ï¼‰
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 2.2

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/pages/styles/detail.tsx`ï¼Œä½œä¸º **å››çº§æ•°æ®å±•ç¤ºçš„ä¸»å®¹å™¨**ã€‚

**é¡µé¢ç»“æ„ï¼š**
```typescript
export const StyleDetailPage: React.FC = () => {
  const { id } = useParams();
  
  // åŠ è½½L1æ•°æ®
  const { data: styleData } = useOne<IStyle>({
    resource: "styles",
    id: id!
  });
  
  return (
    <div className="space-y-6">
      {/* L1: æ¬¾å·å¤´éƒ¨ä¿¡æ¯ */}
      <StyleHeaderInfo style={styleData?.data} />
      
      {/* L2: é¢œè‰²ç‰ˆæœ¬ Tabs åŒºåŸŸ */}
      <VariantTabs styleId={Number(id)} />
    </div>
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… è¯¦æƒ…é¡µè·¯ç”±å’ŒåŸºç¡€æ¡†æ¶
- âœ… L1 æ•°æ®åŠ è½½é€»è¾‘

---

#### ä»»åŠ¡ 2.4: StyleHeaderInfo ç»„ä»¶ï¼ˆL1å±•ç¤ºï¼‰
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 0.5å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 2.3

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/components/styles/StyleHeaderInfo.tsx`ï¼š

```typescript
import { Card, Descriptions } from "antd";
import { IStyle } from "../../types/models";

interface Props {
  style?: IStyle;
}

export const StyleHeaderInfo: React.FC<Props> = ({ style }) => {
  if (!style) return null;
  
  return (
    <Card title="æ¬¾å·åŸºç¡€ä¿¡æ¯" className="shadow-sm">
      <Descriptions column={3}>
        <Descriptions.Item label="æ¬¾å·">{style.style_no}</Descriptions.Item>
        <Descriptions.Item label="æ¬¾å¼åç§°">{style.style_name}</Descriptions.Item>
        <Descriptions.Item label="åˆ›å»ºæ—¥æœŸ">{style.create_date}</Descriptions.Item>
        <Descriptions.Item label="å…¬å…±å¤‡æ³¨" span={3}>
          {style.public_note || 'æ— '}
        </Descriptions.Item>
      </Descriptions>
    </Card>
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… L1 åŸºç¡€ä¿¡æ¯å±•ç¤ºç»„ä»¶

---

#### ä»»åŠ¡ 2.5: VariantTabs ç»„ä»¶ï¼ˆL2å¯¼èˆªï¼‰
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 2.4

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/components/styles/VariantTabs.tsx`ï¼š

**æ ¸å¿ƒé€»è¾‘ï¼š**
- âœ… åŠ è½½å½“å‰æ¬¾å·ä¸‹çš„æ‰€æœ‰ L2 é¢œè‰²ç‰ˆæœ¬
- âœ… ä½¿ç”¨ Ant Design çš„ `Tabs` ç»„ä»¶
- âœ… æ¯ä¸ª Tab æ¸²æŸ“ä¸€ä¸ª `VariantTabContent` ç»„ä»¶
- âœ… æ”¯æŒ"æ–°å»ºé¢œè‰²ç‰ˆæœ¬"æ“ä½œ

**å…³é”®ä»£ç ï¼š**
```typescript
import { Tabs, Button } from "antd";
import { useList } from "@refinedev/core";
import { IColorVariant } from "../../types/models";
import { VariantTabContent } from "./VariantTabContent";

interface Props {
  styleId: number;
}

export const VariantTabs: React.FC<Props> = ({ styleId }) => {
  // åŠ è½½L2æ•°æ®ï¼ˆæŒ‰style_idç­›é€‰ï¼‰
  const { data: variantsData } = useList<IColorVariant>({
    resource: "variants",
    filters: [{ field: "style_id", operator: "eq", value: styleId }]
  });
  
  const variants = variantsData?.data || [];
  
  return (
    <Tabs
      type="card"
      items={variants.map(variant => ({
        key: String(variant.id),
        label: variant.color_name,
        children: <VariantTabContent variant={variant} />
      }))}
      tabBarExtraContent={
        <Button type="primary">+ æ–°å»ºé¢œè‰²ç‰ˆæœ¬</Button>
      }
    />
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… é¢œè‰²ç‰ˆæœ¬ Tabs å¯¼èˆªç»„ä»¶
- âœ… èƒ½æ­£ç¡®åŠ è½½å’Œåˆ‡æ¢ä¸åŒé¢œè‰²

---

#### ä»»åŠ¡ 2.6: VariantTabContent ç»„ä»¶ï¼ˆL2å†…å®¹å®¹å™¨ï¼‰
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 2.5

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/components/styles/VariantTabContent.tsx`ï¼š

```typescript
import { IColorVariant } from "../../types/models";
import { VariantHeader } from "./VariantHeader";
import { BOMTable } from "./BOMTable";

interface Props {
  variant: IColorVariant;
}

export const VariantTabContent: React.FC<Props> = ({ variant }) => {
  return (
    <div className="space-y-4">
      {/* L2å¤´éƒ¨ï¼šæ ·è¡£å›¾ + æ“ä½œæŒ‰é’® */}
      <VariantHeader variant={variant} />
      
      {/* L3ä¸»ä½“ï¼šé…æ–™æ˜ç»†è¡¨æ ¼ */}
      <BOMTable variantId={variant.id} />
    </div>
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… å•ä¸ªé¢œè‰²ç‰ˆæœ¬çš„å†…å®¹å®¹å™¨ç»„ä»¶

---

#### ä»»åŠ¡ 2.7: VariantHeader ç»„ä»¶ï¼ˆL2ä¿¡æ¯å±•ç¤ºï¼‰
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 2.6

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/components/styles/VariantHeader.tsx`ï¼š

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- âœ… å±•ç¤ºæ ·è¡£å¤§å›¾ï¼ˆå¯é¢„è§ˆï¼‰
- âœ… å±•ç¤ºå°ºç èŒƒå›´ç­‰ä¿¡æ¯
- âœ… æä¾›"å¤åˆ¶æ­¤ç‰ˆæœ¬"æŒ‰é’®ï¼ˆè§¦å‘æ·±åº¦å…‹éš†ï¼‰
- âœ… æä¾›"æ‰“å°"æŒ‰é’®ï¼ˆé¢„ç•™ï¼‰

**å…³é”®ä»£ç ï¼š**
```typescript
import { Card, Image, Button, Space, Descriptions, Modal, Input } from "antd";
import { CopyOutlined, PrinterOutlined } from "@ant-design/icons";
import { useState } from "react";
import { useCustomMutation } from "@refinedev/core";
import { IColorVariant } from "../../types/models";

interface Props {
  variant: IColorVariant;
}

export const VariantHeader: React.FC<Props> = ({ variant }) => {
  const [cloneModalOpen, setCloneModalOpen] = useState(false);
  const [newColorName, setNewColorName] = useState("");
  
  const { mutate: cloneVariant } = useCustomMutation();
  
  const handleClone = () => {
    cloneVariant({
      url: `/api/styles/${variant.style_id}/variants/${variant.id}/clone`,
      method: 'post',
      values: { new_color_name: newColorName },
      successNotification: {
        message: "å…‹éš†æˆåŠŸ",
        description: `æ–°é¢œè‰²"${newColorName}"å·²åˆ›å»º`,
        type: "success"
      }
    }, {
      onSuccess: () => {
        setCloneModalOpen(false);
        setNewColorName("");
        // Refineä¼šè‡ªåŠ¨åˆ·æ–°æ•°æ®
      }
    });
  };
  
  return (
    <>
      <Card className="shadow-sm">
        <div className="flex gap-6">
          {/* æ ·è¡£å¤§å›¾ */}
          <Image
            src={variant.sample_image_url}
            width={300}
            height={400}
            style={{ objectFit: 'cover' }}
            className="rounded-lg"
          />
          
          {/* ä¿¡æ¯å’Œæ“ä½œ */}
          <div className="flex-1 space-y-4">
            <Descriptions column={1}>
              <Descriptions.Item label="é¢œè‰²">
                {variant.color_name}
              </Descriptions.Item>
              <Descriptions.Item label="å°ºç èŒƒå›´">
                {variant.size_range || 'æœªè®¾ç½®'}
              </Descriptions.Item>
            </Descriptions>
            
            <Space>
              <Button 
                type="primary" 
                icon={<CopyOutlined />}
                onClick={() => setCloneModalOpen(true)}
              >
                å¤åˆ¶æ­¤ç‰ˆæœ¬
              </Button>
              <Button icon={<PrinterOutlined />}>
                æ‰“å°é…æ–¹å•
              </Button>
            </Space>
          </div>
        </div>
      </Card>
      
      {/* å…‹éš†å¼¹çª— */}
      <Modal
        title="å¤åˆ¶é¢œè‰²ç‰ˆæœ¬"
        open={cloneModalOpen}
        onOk={handleClone}
        onCancel={() => setCloneModalOpen(false)}
      >
        <Input
          placeholder="è¯·è¾“å…¥æ–°é¢œè‰²åç§°ï¼ˆå¦‚ï¼šè“è‰²ï¼‰"
          value={newColorName}
          onChange={e => setNewColorName(e.target.value)}
        />
      </Modal>
    </>
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… L2 å¤´éƒ¨å±•ç¤ºç»„ä»¶
- âœ… æ·±åº¦å…‹éš†åŠŸèƒ½å…¥å£

---

#### ä»»åŠ¡ 2.8: BOMTable ç»„ä»¶ï¼ˆL3ä¸»è¡¨æ ¼ï¼‰â­æ ¸å¿ƒéš¾ç‚¹
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 3å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 2.7

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/components/styles/BOMTable.tsx`ï¼š

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- âœ… ä½¿ç”¨ `EditableProTable` å®ç°å¯ç¼–è¾‘è¡¨æ ¼
- âœ… åˆ—å®šä¹‰ï¼šè¾…æ–™åç§°ã€è¾…æ–™å›¾ç‰‡ã€è¾…æ–™é¢œè‰²ã€å•è€—ã€å•ä½ã€ä¾›åº”å•†ã€**è§„æ ¼æ˜ç»†ï¼ˆL4èšåˆå±•ç¤ºï¼‰**
- âœ… æ”¯æŒè¡Œå†…ç¼–è¾‘ï¼ˆé™¤è§„æ ¼æ˜ç»†å¤–ï¼‰
- âœ… è§„æ ¼æ˜ç»†åˆ—ä½¿ç”¨è‡ªå®šä¹‰ renderï¼Œèšåˆå±•ç¤º L4 æ•°ç»„
- âœ… ç‚¹å‡»è§„æ ¼æ˜ç»†è§¦å‘å¼¹çª—ç¼–è¾‘

**å…³é”®å®ç°ï¼ˆL4èšåˆå±•ç¤ºé€»è¾‘ï¼‰ï¼š**
```typescript
import { EditableProTable } from "@ant-design/pro-components";
import { Image, Button, Tag } from "antd";
import { useState } from "react";
import { useList, useUpdate } from "@refinedev/core";
import { IBOMItem } from "../../types/models";
import { SpecDetailModalForm } from "./SpecDetailModalForm";

interface Props {
  variantId: number;
}

export const BOMTable: React.FC<Props> = ({ variantId }) => {
  const [editingRecord, setEditingRecord] = useState<IBOMItem | null>(null);
  
  // åŠ è½½L3æ•°æ®ï¼ˆæŒ‰variant_idç­›é€‰ï¼‰
  const { data: bomData } = useList<IBOMItem>({
    resource: "bom_items",
    filters: [{ field: "variant_id", operator: "eq", value: variantId }]
  });
  
  const dataSource = bomData?.data || [];
  
  return (
    <>
      <EditableProTable<IBOMItem>
        rowKey="id"
        value={dataSource}
        columns={[
          {
            title: 'è¾…æ–™åç§°',
            dataIndex: 'material_name',
            width: 150,
          },
          {
            title: 'è¾…æ–™å›¾ç‰‡',
            dataIndex: 'material_image_url',
            width: 100,
            render: (url) => (
              <Image 
                src={url} 
                width={60} 
                height={60} 
                style={{ objectFit: 'cover', borderRadius: 4 }}
              />
            ),
            editable: false,
          },
          {
            title: 'è¾…æ–™é¢œè‰²',
            dataIndex: 'material_color_text',
            width: 120,
          },
          {
            title: 'å•è€—',
            dataIndex: 'usage',
            width: 80,
            valueType: 'digit',
          },
          {
            title: 'å•ä½',
            dataIndex: 'unit',
            width: 80,
            valueType: 'select',
            valueEnum: {
              'ç±³': { text: 'ç±³' },
              'æ¡': { text: 'æ¡' },
              'ç²’': { text: 'ç²’' },
              'å¥—': { text: 'å¥—' },
            }
          },
          {
            title: 'ä¾›åº”å•†',
            dataIndex: 'supplier',
            width: 150,
          },
          {
            title: 'è§„æ ¼æ˜ç»†ï¼ˆå°ºç /å€¼/å•ä½ï¼‰',
            dataIndex: 'specDetails',
            width: 250,
            editable: false,
            render: (_, record) => {
              const specs = record.specDetails;
              if (!specs?.length) {
                return <span className="text-gray-400">æ— è§„æ ¼</span>;
              }
              
              return (
                <div className="space-y-1">
                  {specs.map((spec, idx) => (
                    <div key={spec.id || idx} className="text-sm">
                      {spec.size && (
                        <Tag color="blue" className="mr-1">{spec.size}</Tag>
                      )}
                      <span className="font-medium">{spec.spec_value}</span>
                      <span className="text-gray-500 ml-1">{spec.spec_unit}</span>
                    </div>
                  ))}
                  <Button 
                    type="link" 
                    size="small" 
                    onClick={() => setEditingRecord(record)}
                    className="p-0 h-auto"
                  >
                    ç¼–è¾‘è§„æ ¼
                  </Button>
                </div>
              );
            }
          }
        ]}
        recordCreatorProps={{
          creatorButtonText: 'æ·»åŠ é…æ–™',
        }}
      />
      
      {/* L4 ç¼–è¾‘å¼¹çª— */}
      <SpecDetailModalForm
        open={!!editingRecord}
        bomItem={editingRecord}
        onClose={() => setEditingRecord(null)}
      />
    </>
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… åŠŸèƒ½å®Œæ•´çš„ L3 è¡¨æ ¼ç»„ä»¶
- âœ… L4 æ•°ç»„èšåˆå±•ç¤ºé€»è¾‘
- âœ… æ”¯æŒè¡Œå†…ç¼–è¾‘å’Œæ–°å¢é…æ–™

---

#### ä»»åŠ¡ 2.9: SpecDetailModalForm ç»„ä»¶ï¼ˆL4å¼¹çª—ç¼–è¾‘ï¼‰â­æ ¸å¿ƒéš¾ç‚¹
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 3å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 2.8

**å®ç°å†…å®¹ï¼š**

åˆ›å»º `src/components/styles/SpecDetailModalForm.tsx`ï¼š

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- âœ… Modal å¼¹çª—å®¹å™¨
- âœ… ä½¿ç”¨ Ant Design çš„ `Form.List` å®ç°åŠ¨æ€è¡¨å•åˆ—è¡¨
- âœ… æ”¯æŒæ·»åŠ æ–°è¡Œã€åˆ é™¤è¡Œ
- âœ… ä¸‰ä¸ªè¾“å…¥å­—æ®µï¼šå°ºç ï¼ˆInputï¼‰ã€è§„æ ¼å€¼ï¼ˆInputNumberï¼‰ã€å•ä½ï¼ˆInputï¼‰
- âœ… ä¿å­˜æ—¶è°ƒç”¨ `useUpdate` æ›´æ–°çˆ¶çº§ L3 è®°å½•

**å…³é”®ä»£ç ï¼š**
```typescript
import { Modal, Form, Input, InputNumber, Button, Space } from "antd";
import { MinusCircleOutlined, PlusOutlined } from "@ant-design/icons";
import { useUpdate } from "@refinedev/core";
import { IBOMItem, ISpecDetail } from "../../types/models";

interface Props {
  open: boolean;
  bomItem: IBOMItem | null;
  onClose: () => void;
}

export const SpecDetailModalForm: React.FC<Props> = ({ 
  open, 
  bomItem, 
  onClose 
}) => {
  const [form] = Form.useForm();
  const { mutate: updateBomItem } = useUpdate();
  
  // åˆå§‹åŒ–è¡¨å•æ•°æ®
  React.useEffect(() => {
    if (bomItem) {
      form.setFieldsValue({
        specDetails: bomItem.specDetails || []
      });
    }
  }, [bomItem, form]);
  
  const handleSave = () => {
    form.validateFields().then(values => {
      // æå– L4 æ•°ç»„æ•°æ®
      const updatedSpecDetails: ISpecDetail[] = values.specDetails;
      
      // è°ƒç”¨æ›´æ–°API
      updateBomItem({
        resource: "bom_items",
        id: bomItem!.id,
        values: {
          ...bomItem,
          specDetails: updatedSpecDetails
        },
        successNotification: {
          message: "è§„æ ¼æ˜ç»†å·²æ›´æ–°",
          type: "success"
        }
      }, {
        onSuccess: () => {
          onClose();
          form.resetFields();
        }
      });
    });
  };
  
  return (
    <Modal
      title="ç¼–è¾‘è§„æ ¼æ˜ç»†"
      open={open}
      onOk={handleSave}
      onCancel={onClose}
      width={700}
      okText="ä¿å­˜"
      cancelText="å–æ¶ˆ"
    >
      <Form form={form} layout="vertical">
        <Form.List name="specDetails">
          {(fields, { add, remove }) => (
            <>
              <div className="space-y-4">
                {fields.map(field => (
                  <Space key={field.key} align="baseline" className="w-full">
                    <Form.Item
                      {...field}
                      name={[field.name, 'size']}
                      label="å°ºç "
                      style={{ marginBottom: 0 }}
                    >
                      <Input placeholder="å¦‚: S, M, é€šç " style={{ width: 120 }} />
                    </Form.Item>
                    
                    <Form.Item
                      {...field}
                      name={[field.name, 'spec_value']}
                      label="è§„æ ¼å€¼"
                      rules={[{ required: true, message: 'è¯·è¾“å…¥è§„æ ¼å€¼' }]}
                      style={{ marginBottom: 0 }}
                    >
                      <InputNumber placeholder="å¦‚: 58.5" style={{ width: 120 }} />
                    </Form.Item>
                    
                    <Form.Item
                      {...field}
                      name={[field.name, 'spec_unit']}
                      label="å•ä½"
                      rules={[{ required: true, message: 'è¯·è¾“å…¥å•ä½' }]}
                      style={{ marginBottom: 0 }}
                    >
                      <Input placeholder="å¦‚: cm, mm" style={{ width: 100 }} />
                    </Form.Item>
                    
                    <Button
                      type="text"
                      danger
                      icon={<MinusCircleOutlined />}
                      onClick={() => remove(field.name)}
                    >
                      åˆ é™¤
                    </Button>
                  </Space>
                ))}
              </div>
              
              <Button
                type="dashed"
                onClick={() => add()}
                block
                icon={<PlusOutlined />}
                className="mt-4"
              >
                æ·»åŠ è§„æ ¼è¡Œ
              </Button>
            </>
          )}
        </Form.List>
      </Form>
    </Modal>
  );
};
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… L4 è§„æ ¼ç¼–è¾‘å¼¹çª—ç»„ä»¶
- âœ… æ”¯æŒåŠ¨æ€å¢åˆ æ”¹ L4 è®°å½•
- âœ… æ•°æ®ä¿å­˜é€»è¾‘å®Œæ•´

---

### Phase 3: é«˜çº§åŠŸèƒ½ä¸ä¼˜åŒ– (5-7å¤©)

#### ä»»åŠ¡ 3.1: æ·±åº¦å…‹éš†åŠŸèƒ½å®Œå–„
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©  
**ä¾èµ–ï¼š** Phase 2 å®Œæˆ

**å®ç°å†…å®¹ï¼š**
- âœ… å®Œå–„ `mockDataProvider` çš„ `custom` æ–¹æ³•ï¼Œæ¨¡æ‹Ÿæ·±åº¦å…‹éš†é€»è¾‘
- âœ… åœ¨å…‹éš†æˆåŠŸåï¼Œè‡ªåŠ¨åˆ·æ–° Tabs åˆ—è¡¨
- âœ… æ·»åŠ åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†
- âœ… æ·»åŠ æˆåŠŸæç¤ºå’Œå¼•å¯¼ï¼ˆå¦‚ï¼šé«˜äº®æ–°åˆ›å»ºçš„ Tabï¼‰

**äº¤ä»˜ç‰©ï¼š**
- âœ… å®Œæ•´å¯ç”¨çš„æ·±åº¦å…‹éš†åŠŸèƒ½
- âœ… è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒåé¦ˆ

---

#### ä»»åŠ¡ 3.2: å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 3.1

**å®ç°å†…å®¹ï¼š**
- âœ… é›†æˆ Ant Design çš„ `Upload` ç»„ä»¶
- âœ… å®ç°æ ·è¡£å›¾ç‰‡ä¸Šä¼ ï¼ˆL2ï¼‰
- âœ… å®ç°è¾…æ–™å›¾ç‰‡ä¸Šä¼ ï¼ˆL3ï¼‰
- âœ… å®ç°è‰²å¡å›¾ç‰‡ä¸Šä¼ ï¼ˆL3ï¼‰
- âœ… Demo æ¨¡å¼ä¸‹ä½¿ç”¨ base64 æˆ–æœ¬åœ°å­˜å‚¨æ¨¡æ‹Ÿä¸Šä¼ 

**å…³é”®æŠ€æœ¯ï¼š**
```typescript
<Upload
  listType="picture-card"
  maxCount={1}
  beforeUpload={file => {
    // Demoæ¨¡å¼ï¼šè½¬base64
    const reader = new FileReader();
    reader.readAsDataURL(file);
    reader.onload = () => {
      setImageUrl(reader.result as string);
    };
    return false; // é˜»æ­¢é»˜è®¤ä¸Šä¼ 
  }}
>
  {imageUrl ? <img src={imageUrl} /> : '+ ä¸Šä¼ '}
</Upload>
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… ä¸‰å¤„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½å®Œæ•´å®ç°
- âœ… Demo æ¨¡å¼ä¸‹å¯æ­£å¸¸æ¼”ç¤º

---

#### ä»»åŠ¡ 3.3: å“åº”å¼ä¼˜åŒ–
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¢ Medium  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 3.2

**å®ç°å†…å®¹ï¼š**
- âœ… ä½¿ç”¨ TailwindCSS çš„å“åº”å¼ç±»ä¼˜åŒ–å¸ƒå±€
- âœ… è¡¨æ ¼åœ¨å°å±å¹•ä¸‹çš„é€‚é…ï¼ˆæ»šåŠ¨/æŠ˜å ï¼‰
- âœ… æ ·è¡£å¤§å›¾åœ¨ç§»åŠ¨ç«¯çš„é€‚é…
- âœ… Modal å¼¹çª—çš„ç§»åŠ¨ç«¯ä¼˜åŒ–

**äº¤ä»˜ç‰©ï¼š**
- âœ… åœ¨å¹³æ¿å’Œå¤§å±æ‰‹æœºä¸Šæœ‰è‰¯å¥½ä½“éªŒ

---

#### ä»»åŠ¡ 3.4: æ‰“å°åŠŸèƒ½å®ç°
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¢ Medium  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 3.3

**å®ç°å†…å®¹ï¼š**
- âœ… åˆ›å»ºæ‰“å°ä¸“ç”¨ç»„ä»¶ `PrintView.tsx`
- âœ… ä½¿ç”¨ CSS `@media print` æ ·å¼
- âœ… éšè—ä¸å¿…è¦çš„UIå…ƒç´ ï¼ˆæŒ‰é’®ã€Tabsç­‰ï¼‰
- âœ… ä¿æŒ L4 è§„æ ¼çš„èšåˆæ˜¾ç¤ºæ ¼å¼

**å…³é”®ä»£ç ï¼š**
```typescript
const handlePrint = () => {
  window.print();
};

// åœ¨æ ·å¼ä¸­æ·»åŠ 
@media print {
  .no-print {
    display: none !important;
  }
  .print-full-width {
    width: 100% !important;
  }
}
```

**äº¤ä»˜ç‰©ï¼š**
- âœ… å¯æ‰“å°çš„é…æ–¹å•è§†å›¾
- âœ… æ‰“å°æ ¼å¼è§„èŒƒã€æ¸…æ™°

---

### Phase 4: Demo æ¼”ç¤ºå‡†å¤‡ (3-5å¤©)

#### ä»»åŠ¡ 4.1: Mock æ•°æ®ä¸°å¯Œ
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** Phase 3 å®Œæˆ

**å®ç°å†…å®¹ï¼š**
- âœ… æ‰©å……è‡³å°‘ 5 ä¸ªå®Œæ•´çš„æ¬¾å·
- âœ… æ¯ä¸ªæ¬¾å·è‡³å°‘ 3 ä¸ªé¢œè‰²ç‰ˆæœ¬
- âœ… æ¯ä¸ªé¢œè‰²è‡³å°‘ 5 æ¡é…æ–™
- âœ… ç¡®ä¿ L4 æ•°æ®å¤šæ ·æ€§ï¼ˆå•å°ºç ã€å¤šå°ºç ï¼‰
- âœ… ä½¿ç”¨çœŸå®çš„æœè£…è¡Œä¸šæœ¯è¯­

**äº¤ä»˜ç‰©ï¼š**
- âœ… ä¸°å¯Œçš„æ¼”ç¤ºæ•°æ®é›†

---

#### ä»»åŠ¡ 4.2: æ¼”ç¤ºè„šæœ¬ç¼–å†™
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 4.1

**å®ç°å†…å®¹ï¼š**
- âœ… ç¼–å†™ Demo æ¼”ç¤ºæ“ä½œæŒ‡å—
- âœ… å‡†å¤‡æ¼”ç¤ºè¯æœ¯ï¼ˆçªå‡ºæ ¸å¿ƒåŠŸèƒ½ï¼‰
- âœ… è®¾è®¡æ¼”ç¤ºæµç¨‹ï¼ˆ5-10åˆ†é’Ÿï¼‰

**æ¼”ç¤ºæµç¨‹å»ºè®®ï¼š**
1. è¿›å…¥æ¬¾å·åˆ—è¡¨ï¼Œå±•ç¤ºå¤šæ¬¾å·ç®¡ç†
2. ç‚¹å‡»è¿›å…¥æ¬¾å· 9128 è¯¦æƒ…é¡µ
3. å±•ç¤ºå››çº§æ•°æ®ç»“æ„çš„ç›´è§‚å‘ˆç°
4. åˆ‡æ¢é¢œè‰² Tabï¼Œæ¼”ç¤ºå¤šè‰²ç‰ˆæœ¬ç®¡ç†
5. ç‚¹å‡»ç¼–è¾‘è§„æ ¼ï¼Œæ¼”ç¤º L4 å¼¹çª—ç¼–è¾‘
6. æ¼”ç¤ºä¸€é”®å…‹éš†åŠŸèƒ½
7. æ¼”ç¤ºæ‰“å°åŠŸèƒ½

**äº¤ä»˜ç‰©ï¼š**
- âœ… æ¼”ç¤ºè„šæœ¬æ–‡æ¡£
- âœ… å…³é”®åŠŸèƒ½ç‚¹æ¸…å•

---

#### ä»»åŠ¡ 4.3: UI/UX ç»†èŠ‚æ‰“ç£¨
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¢ Medium  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 4.2

**å®ç°å†…å®¹ï¼š**
- âœ… ç»Ÿä¸€é¢œè‰²ä¸»é¢˜å’Œé—´è·
- âœ… æ·»åŠ åˆé€‚çš„ Loading çŠ¶æ€
- âœ… æ·»åŠ  Empty ç©ºçŠ¶æ€æç¤º
- âœ… ä¼˜åŒ–åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
- âœ… å®Œå–„é”™è¯¯æç¤ºä¿¡æ¯
- âœ… æ·»åŠ æ“ä½œæˆåŠŸçš„è§†è§‰åé¦ˆ

**äº¤ä»˜ç‰©ï¼š**
- âœ… è§†è§‰ä¸€è‡´ã€ä½“éªŒæµç•…çš„ç•Œé¢

---

### Phase 5: æµ‹è¯•ä¸äº¤ä»˜ (3-5å¤©)

#### ä»»åŠ¡ 5.1: åŠŸèƒ½æµ‹è¯•
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 2å¤©  
**ä¾èµ–ï¼š** Phase 4 å®Œæˆ

**æµ‹è¯•æ¸…å•ï¼š**
- [ ] L1 åˆ—è¡¨é¡µåŠ è½½å’Œåˆ†é¡µ
- [ ] L1 è¯¦æƒ…é¡µæ•°æ®å±•ç¤º
- [ ] L2 Tabs åˆ‡æ¢å’Œæ•°æ®åŠ è½½
- [ ] L3 è¡¨æ ¼æ•°æ®å±•ç¤ºå’Œç¼–è¾‘
- [ ] L4 å¼¹çª—æ‰“å¼€ã€ç¼–è¾‘ã€ä¿å­˜
- [ ] L4 æ•°ç»„èšåˆæ˜¾ç¤ºæ­£ç¡®æ€§
- [ ] æ·±åº¦å…‹éš†åŠŸèƒ½å®Œæ•´æ€§
- [ ] å›¾ç‰‡ä¸Šä¼ å’Œé¢„è§ˆ
- [ ] æ‰“å°åŠŸèƒ½
- [ ] å“åº”å¼å¸ƒå±€åœ¨ä¸åŒå±å¹•ä¸‹çš„è¡¨ç°

**äº¤ä»˜ç‰©ï¼š**
- âœ… æµ‹è¯•æŠ¥å‘Š
- âœ… Bug ä¿®å¤è®°å½•

---

#### ä»»åŠ¡ 5.2: æ€§èƒ½ä¼˜åŒ–
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 5.1

**ä¼˜åŒ–é¡¹ï¼š**
- âœ… ä½¿ç”¨ React.memo ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“
- âœ… å›¾ç‰‡æ‡’åŠ è½½
- âœ… è¡¨æ ¼è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¦‚æœæ•°æ®é‡å¤§ï¼‰
- âœ… ä»£ç åˆ†å‰²å’ŒæŒ‰éœ€åŠ è½½

**äº¤ä»˜ç‰©ï¼š**
- âœ… ä¼˜åŒ–åçš„æ€§èƒ½æŒ‡æ ‡æŠ¥å‘Š

---

#### ä»»åŠ¡ 5.3: æ–‡æ¡£ç¼–å†™
**ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ High  
**é¢„è®¡æ—¶é—´ï¼š** 1å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 5.2

**æ–‡æ¡£å†…å®¹ï¼š**
- âœ… é¡¹ç›® README.mdï¼ˆå®‰è£…ã€å¯åŠ¨ã€æ„å»ºï¼‰
- âœ… ç»„ä»¶ä½¿ç”¨è¯´æ˜æ–‡æ¡£
- âœ… Mock æ•°æ®åˆ‡æ¢çœŸå® API çš„è¿ç§»æŒ‡å—
- âœ… å¸¸è§é—®é¢˜ FAQ

**äº¤ä»˜ç‰©ï¼š**
- âœ… å®Œæ•´çš„å¼€å‘å’Œéƒ¨ç½²æ–‡æ¡£

---

#### ä»»åŠ¡ 5.4: æœ€ç»ˆäº¤ä»˜
**ä¼˜å…ˆçº§ï¼š** ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´ï¼š** 0.5å¤©  
**ä¾èµ–ï¼š** ä»»åŠ¡ 5.3

**äº¤ä»˜æ¸…å•ï¼š**
- âœ… å®Œæ•´çš„æºä»£ç ä»“åº“
- âœ… æ„å»ºäº§ç‰©ï¼ˆå¯éƒ¨ç½²çš„é™æ€æ–‡ä»¶ï¼‰
- âœ… æ¼”ç¤ºè§†é¢‘æˆ– GIF
- âœ… æŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ

---

## 4. æŠ€æœ¯å®ç°è¦ç‚¹

### 4.1 å››çº§æ•°æ®å…³è”å…³ç³»å¤„ç†

**æ ¸å¿ƒæ€è·¯ï¼š** ä½¿ç”¨ Refine çš„ `filters` å‚æ•°å®ç°çˆ¶å­çº§è”æŸ¥è¯¢ã€‚

```typescript
// åŠ è½½ L2 æ•°æ®æ—¶ï¼ŒæŒ‰ style_id ç­›é€‰
useList<IColorVariant>({
  resource: "variants",
  filters: [{ field: "style_id", operator: "eq", value: styleId }]
});

// åŠ è½½ L3 æ•°æ®æ—¶ï¼ŒæŒ‰ variant_id ç­›é€‰
useList<IBOMItem>({
  resource: "bom_items",
  filters: [{ field: "variant_id", operator: "eq", value: variantId }]
});

// L4 æ•°æ®ç›´æ¥åµŒå¥—åœ¨ L3 çš„ specDetails å­—æ®µä¸­ï¼Œæ— éœ€å•ç‹¬æŸ¥è¯¢
```

### 4.2 L4 èšåˆå±•ç¤ºçš„æ•°æ®æ˜ å°„

**å…³é”®ä»£ç æ¨¡å¼ï¼š**

```typescript
render: (_, record) => {
  const specs = record.specDetails; // è·å– L4 æ•°ç»„
  
  return (
    <div className="flex flex-col gap-1">
      {specs.map((spec, idx) => (
        <div key={spec.id || idx}>
          <Tag>{spec.size}</Tag>
          {spec.spec_value} {spec.spec_unit}
        </div>
      ))}
      <Button onClick={() => handleEdit(record)}>ç¼–è¾‘</Button>
    </div>
  );
}
```

### 4.3 æ·±åº¦å…‹éš†çš„äº‹åŠ¡å®Œæ•´æ€§

**å‰ç«¯è°ƒç”¨ï¼š**
```typescript
cloneVariant({
  url: `/api/styles/${styleId}/variants/${variantId}/clone`,
  method: 'post',
  values: { new_color_name: newColorName }
});
```

**åç«¯å®ç°è¦ç‚¹ï¼ˆä¾›å‚è€ƒï¼‰ï¼š**
```typescript
// ä¼ªä»£ç 
async cloneVariant(sourceVariantId, newColorName) {
  // 1. å¤åˆ¶ L2 è®°å½•
  const newVariant = await Variant.create({
    ...sourceVariant,
    color_name: newColorName
  });
  
  // 2. æŸ¥è¯¢æº L3 åˆ—è¡¨
  const sourceBomItems = await BOMItem.findAll({ 
    where: { variant_id: sourceVariantId },
    include: [SpecDetail] // å…³è”æŸ¥è¯¢ L4
  });
  
  // 3. éå†å¤åˆ¶ L3 å’Œ L4
  for (const bomItem of sourceBomItems) {
    const newBomItem = await BOMItem.create({
      ...bomItem,
      variant_id: newVariant.id
    });
    
    // 4. å¤åˆ¶æ¯æ¡ L3 ä¸‹çš„ L4 æ•°ç»„
    for (const spec of bomItem.specDetails) {
      await SpecDetail.create({
        ...spec,
        bom_item_id: newBomItem.id
      });
    }
  }
}
```

### 4.4 Mock Provider åˆ‡æ¢çœŸå® API

**é…ç½®ç¯å¢ƒå˜é‡ï¼š**
```bash
# .env.demo
VITE_APP_MODE=demo

# .env.production
VITE_APP_MODE=production
VITE_API_BASE_URL=https://api.specmaster.com
```

**App.tsx ä¸­åŠ¨æ€åˆ‡æ¢ï¼š**
```typescript
const isDemoMode = import.meta.env.VITE_APP_MODE === 'demo';

const dataProvider = isDemoMode 
  ? mockDataProvider 
  : nestJsDataProvider(import.meta.env.VITE_API_BASE_URL);
```

---

## 5. å…³é”®é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¥æœŸï¼ˆç›¸å¯¹å‘¨ï¼‰ | å…³é”®äº¤ä»˜ç‰© |
|--------|--------------|----------|
| **M1: é¡¹ç›®å¯åŠ¨** | Week 1 Day 3 | é¡¹ç›®æ¡†æ¶æ­å»ºå®Œæˆï¼ŒMockæ•°æ®å°±ä½ |
| **M2: æ ¸å¿ƒè§†å›¾å®Œæˆ** | Week 2 Day 5 | L1-L3 å±‚çº§å±•ç¤ºå®Œæ•´å®ç° |
| **M3: L4ç¼–è¾‘åŠŸèƒ½å®Œæˆ** | Week 3 Day 3 | L4 å¼¹çª—ç¼–è¾‘å’Œèšåˆæ˜¾ç¤ºå®Œæˆ |
| **M4: Demo å°±ç»ª** | Week 4 Day 5 | æ‰€æœ‰åŠŸèƒ½å®Œæ•´ï¼Œå¯å‘ç”²æ–¹æ¼”ç¤º |
| **M5: é¡¹ç›®äº¤ä»˜** | Week 5-6 | æµ‹è¯•å®Œæˆï¼Œæ–‡æ¡£é½å…¨ï¼Œæ­£å¼äº¤ä»˜ |

---

## 6. é£é™©è¯„ä¼°ä¸åº”å¯¹

### 6.1 æŠ€æœ¯é£é™©

| é£é™© | ç­‰çº§ | åº”å¯¹æªæ–½ |
|------|------|---------|
| L4 åµŒå¥—æ•°ç»„çš„çŠ¶æ€ç®¡ç†å¤æ‚ | ğŸŸ¡ ä¸­ | ä½¿ç”¨ Refine çš„è‡ªåŠ¨æŸ¥è¯¢å¤±æ•ˆæœºåˆ¶ï¼›æ‹†åˆ†ç»„ä»¶å‡å°‘çŠ¶æ€è€¦åˆ |
| Ant Design è¡¨æ ¼æ€§èƒ½é—®é¢˜ | ğŸŸ¡ ä¸­ | é™åˆ¶å•é¡µæ•°æ®é‡ï¼›ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼›è€ƒè™‘ ProTable çš„æ€§èƒ½ä¼˜åŒ–é€‰é¡¹ |
| Mock æ•°æ®ä¸çœŸå® API ç»“æ„ä¸ä¸€è‡´ | ğŸŸ¡ ä¸­ | ä¸¥æ ¼æŒ‰ç…§åç«¯æ¥å£æ–‡æ¡£å®šä¹‰ TypeScript ç±»å‹ï¼›é¢„ç•™ API é€‚é…å±‚ |
| æ·±åº¦å…‹éš†åŠŸèƒ½åç«¯å®ç°å¤æ‚ | ğŸŸ¡ ä¸­ | å‰ç«¯æä¾›æ¸…æ™°çš„éœ€æ±‚æ–‡æ¡£ï¼›å¯å…ˆå®ç°æµ…å…‹éš† |

### 6.2 è¿›åº¦é£é™©

| é£é™© | ç­‰çº§ | åº”å¯¹æªæ–½ |
|------|------|---------|
| L4 ç¼–è¾‘åŠŸèƒ½å¼€å‘æ—¶é—´è¶…é¢„æœŸ | ğŸŸ¡ ä¸­ | æå‰å‡†å¤‡ Form.List çš„æŠ€æœ¯é¢„ç ”ï¼›é¢„ç•™ buffer æ—¶é—´ |
| ç”²æ–¹éœ€æ±‚å˜æ›´ | ğŸŸ¡ ä¸­ | æ§åˆ¶å˜æ›´æµç¨‹ï¼›æ ¸å¿ƒåŠŸèƒ½ä¼˜å…ˆå®Œæˆ |
| æµ‹è¯•é˜¶æ®µå‘ç°é‡å¤§ Bug | ğŸŸ¢ ä½ | åˆ†é˜¶æ®µæµ‹è¯•ï¼ŒåŠæ—©å‘ç°é—®é¢˜ |

### 6.3 èµ„æºé£é™©

| é£é™© | ç­‰çº§ | åº”å¯¹æªæ–½ |
|------|------|---------|
| è®¾è®¡èµ„æºä¸è¶³ï¼ˆå›¾ç‰‡ã€å›¾æ ‡ï¼‰ | ğŸŸ¢ ä½ | ä½¿ç”¨ Placeholder å›¾ç‰‡ï¼›ä½¿ç”¨ Ant Design å›¾æ ‡åº“ |
| å¼€å‘äººå‘˜ä¸ç†Ÿæ‚‰ Refine æ¡†æ¶ | ğŸŸ¡ ä¸­ | Phase 0 å®‰æ’æŠ€æœ¯é¢„ç ”å’Œå­¦ä¹ æ—¶é—´ |

---

## 7. è´¨é‡ä¿è¯è®¡åˆ’

### 7.1 ä»£ç è§„èŒƒ

- âœ… ä½¿ç”¨ ESLint + Prettier è‡ªåŠ¨æ ¼å¼åŒ–
- âœ… TypeScript ä¸¥æ ¼æ¨¡å¼å¼€å¯
- âœ… ç»„ä»¶ã€å‡½æ•°ã€ç±»å‹å¿…é¡»æœ‰æ³¨é‡Š
- âœ… æäº¤å‰è¿›è¡Œ Lint æ£€æŸ¥

### 7.2 æµ‹è¯•ç­–ç•¥

**Demo é˜¶æ®µï¼ˆå½“å‰ï¼‰ï¼š**
- âœ… æ‰‹åŠ¨åŠŸèƒ½æµ‹è¯•ï¼ˆæŒ‰æµ‹è¯•æ¸…å•ï¼‰
- âœ… å¤šæµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•ï¼ˆChrome, Safari, Firefoxï¼‰
- âœ… å“åº”å¼å¸ƒå±€æµ‹è¯•ï¼ˆDesktop, Tablet, Mobileï¼‰

**åç»­ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰ï¼š**
- â¬œ é›†æˆå•å…ƒæµ‹è¯•ï¼ˆVitest + React Testing Libraryï¼‰
- â¬œ E2E æµ‹è¯•ï¼ˆPlaywrightï¼‰

### 7.3 Code Review

- âœ… å…³é”®ç»„ä»¶ï¼ˆBOMTable, SpecDetailModalFormï¼‰å¿…é¡»è¿›è¡Œ Code Review
- âœ… æ•°æ®æµé€»è¾‘å¿…é¡»æœ‰ç¬¬äºŒäººç¡®è®¤

---

## 8. é™„å½•

### 8.1 æŠ€æœ¯å‚è€ƒèµ„æº

- **Refine å®˜æ–¹æ–‡æ¡£ï¼š** https://refine.dev/docs/
- **Ant Design ç»„ä»¶åº“ï¼š** https://ant.design/components/overview-cn
- **Ant Design Pro Componentsï¼š** https://procomponents.ant.design/
- **TailwindCSS æ–‡æ¡£ï¼š** https://tailwindcss.com/docs

### 8.2 å…³é”®æŠ€æœ¯å†³ç­–è®°å½•

| å†³ç­–ç‚¹ | é€‰æ‹©æ–¹æ¡ˆ | ç†ç”± |
|--------|---------|------|
| æ¡†æ¶é€‰å‹ | Refine | ä¼ä¸šçº§æ¡†æ¶ï¼Œå‡å°‘ CRUD é‡å¤ä»£ç ï¼›å†…ç½®æ•°æ®ç®¡ç† |
| UI åº“ | Ant Design | ä¸­åå°æ ‡å‡†é€‰æ‹©ï¼›ç»„ä»¶ä¸°å¯Œï¼›ä¸­æ–‡å‹å¥½ |
| L4 ç¼–è¾‘æ–¹å¼ | Modal + Form.List | é¿å…è¡¨æ ¼åµŒå¥—è¡¨æ ¼çš„å¸ƒå±€å¤æ‚æ€§ï¼›ç”¨æˆ·ä½“éªŒæ›´å¥½ |
| Demo æ•°æ®æ–¹æ¡ˆ | è‡ªå®šä¹‰ Mock Provider | å®Œå…¨æ§åˆ¶æ•°æ®é€»è¾‘ï¼›ä¾¿äºæ¼”ç¤ºå¤æ‚åœºæ™¯ |

### 8.3 æœ¯è¯­è¡¨

| æœ¯è¯­ | è‹±æ–‡ | è¯´æ˜ |
|------|------|------|
| L1 | Level 1 | æ¬¾å·å±‚ï¼Œæ•°æ®ç»“æ„çš„ç¬¬ä¸€å±‚ |
| L2 | Level 2 | é¢œè‰²ç‰ˆæœ¬å±‚ï¼Œæ•°æ®ç»“æ„çš„ç¬¬äºŒå±‚ |
| L3 | Level 3 | é…æ–™æ˜ç»†å±‚ï¼Œæ•°æ®ç»“æ„çš„ç¬¬ä¸‰å±‚ |
| L4 | Level 4 | è§„æ ¼æ˜ç»†å±‚ï¼Œæ•°æ®ç»“æ„çš„ç¬¬å››å±‚ |
| BOM | Bill of Materials | ç‰©æ–™æ¸…å• |
| Mock | Mock Data | æ¨¡æ‹Ÿæ•°æ® |
| Provider | Data Provider | Refine çš„æ•°æ®æä¾›è€…æ¥å£ |

---

## 9. æ€»ç»“

æœ¬å®ç°è®¡åˆ’åŸºäºäº§å“éœ€æ±‚æ–‡æ¡£ v1.4 å’ŒæŠ€æœ¯è®¾è®¡æ–‡æ¡£ï¼Œå°† SpecMaster å‰ç«¯å¼€å‘åˆ†è§£ä¸º **5 ä¸ªé˜¶æ®µã€30+ ä¸ªå…·ä½“ä»»åŠ¡**ã€‚æ ¸å¿ƒéš¾ç‚¹åœ¨äº**å››çº§åµŒå¥—æ•°æ®ç»“æ„çš„å±•ç¤ºä¸ç¼–è¾‘**ï¼Œç‰¹åˆ«æ˜¯ **L4 è§„æ ¼å­åˆ—è¡¨çš„èšåˆæ˜¾ç¤ºå’Œå¼¹çª—ç¼–è¾‘**ã€‚

é€šè¿‡åˆç†ä½¿ç”¨ Refine æ¡†æ¶çš„æ•°æ®ç®¡ç†èƒ½åŠ›ã€Ant Design çš„ä¼ä¸šçº§ç»„ä»¶ï¼Œä»¥åŠç²¾å¿ƒè®¾è®¡çš„ç»„ä»¶æ¶æ„ï¼Œé¢„è®¡å¯åœ¨ **4-6 å‘¨**å†…å®Œæˆä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€ä½“éªŒä¼˜ç§€çš„ Demo ç³»ç»Ÿï¼Œä¸ºåç»­çš„ç”Ÿäº§ç¯å¢ƒå¼€å‘æ‰“ä¸‹åšå®åŸºç¡€ã€‚

**å…³é”®æˆåŠŸå› ç´ ï¼š**
1. âœ… ä¸¥æ ¼éµå¾ªå››çº§æ•°æ®æ¨¡å‹å®šä¹‰
2. âœ… å……åˆ†åˆ©ç”¨ Refine çš„è‡ªåŠ¨åŒ–èƒ½åŠ›
3. âœ… é«˜è´¨é‡çš„ Mock æ•°æ®
4. âœ… ç»„ä»¶åŒ–å’Œæ¨¡å—åŒ–çš„å¼€å‘æ€è·¯
5. âœ… åŠæ—¶çš„æµ‹è¯•å’Œè¿­ä»£

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼š**
- [ ] å›¢é˜Ÿè¯„å®¡æœ¬è®¡åˆ’
- [ ] ç¡®è®¤å¼€å‘èµ„æºå’Œæ—¶é—´è¡¨
- [ ] å¯åŠ¨ Phase 0 é¡¹ç›®åˆå§‹åŒ–
- [ ] å»ºç«‹é¡¹ç›®è¿›åº¦è·Ÿè¸ªæœºåˆ¶

---

**æ–‡æ¡£å˜æ›´è®°å½•**

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹äºº | ä¿®æ”¹å†…å®¹ |
|------|------|--------|---------|
| v1.0 | 2025-11-23 | AI Assistant | åˆå§‹ç‰ˆæœ¬ |

---

**æ‰¹å‡†ç­¾å­—**

| è§’è‰² | å§“å | ç­¾å­— | æ—¥æœŸ |
|------|------|------|------|
| é¡¹ç›®ç»ç† |  |  |  |
| æŠ€æœ¯è´Ÿè´£äºº |  |  |  |
| äº§å“ç»ç† |  |  |  |

