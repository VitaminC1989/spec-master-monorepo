// 1. å‘Šè¯‰ Prisma æˆ‘ä»¬è¦è¿ PostgreSQL
datasource db {
  provider = "postgresql"
}

// 2. å‘Šè¯‰ Prisma ç”Ÿæˆ TypeScript å®¢æˆ·ç«¯ä»£ç 
generator client {
  provider = "prisma-client-js"
}

// 3. ç”¨æˆ·æ¨¡å‹
model User {
  id        String   @id @default(uuid()) // ä½¿ç”¨ UUID ä½œä¸ºä¸»é”®ï¼Œæ›´å®‰å…¨
  email     String   @unique // é‚®ç®±å¿…é¡»å”¯ä¸€
  name      String? // åå­—å¯é€‰
  createdAt DateTime @default(now()) // æ³¨å†Œæ—¶é—´è‡ªåŠ¨ç”Ÿæˆ
  updatedAt DateTime @updatedAt // æ›´æ–°æ—¶é—´è‡ªåŠ¨å˜

  // å…³ç³»ï¼šä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šå¼ è§„æ ¼å•
  specs SpecSheet[]
}

// 4. è§„æ ¼å•æ¨¡å‹ (æ ¸å¿ƒä¸šåŠ¡)
model SpecSheet {
  id    Int    @id @default(autoincrement()) // è§„æ ¼å•ç”¨æ•°å­—IDï¼Œæ–¹ä¾¿ä»¥åç”Ÿæˆç¼–å·
  title String // æ ‡é¢˜ï¼Œä¾‹å¦‚ "2026æ˜¥å­£æ–°æ¬¾å«è¡£"

  // ğŸ”¥ é‡ç‚¹ï¼šè¿™é‡Œä½¿ç”¨ JSON ç±»å‹ï¼
  // ä½ çš„å°ºç è¡¨ã€é¢æ–™ä¿¡æ¯ã€å·¥è‰ºå•ç»†èŠ‚å…¨éƒ¨å¡åœ¨è¿™é‡Œ
  // ä¸éœ€è¦ä¸º "è¡£é•¿"ã€"è¢–é•¿" å•ç‹¬å»ºåˆ—ï¼Œæå¤§å¢åŠ äº†çµæ´»æ€§
  content Json

  status String @default("DRAFT") // çŠ¶æ€ï¼šDRAFT(è‰ç¨¿), PUBLISHED(å·²å‘å¸ƒ)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // å…³ç³»ï¼šè¿™å¼ å•å­å±äºå“ªä¸ªç”¨æˆ·
  userId String
  user   User   @relation(fields: [userId], references: [id])
}
